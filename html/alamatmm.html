<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SiRW (Sistem Informasi Rukun Warga)</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
        }
        .container {
            display: flex;
            height: calc(100vh - 50px);
        }
        .sidebar {
    width: 250px;
    background-color: #e0f0ff;
    padding: 20px;
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    height: 100vh; /* Memastikan sidebar penuh vertikal */
}
        .sidebar img {
            width: 50px;
            height: 50px;
        }
        .sidebar h2 {
            font-size: 24px;
            margin: 10px 0;
        }
        .sidebar h3 {
            font-size: 18px;
            margin: 20px 0 10px;
            color: #888;
        }
        .sidebar ul {
            list-style: none;
            padding: 0;
        }
        .sidebar ul li {
            margin: 10px 0;
        }
        .sidebar ul li a {
            text-decoration: none;
            color: #333;
            display: flex;
            align-items: center;
        }
        .sidebar ul li a i {
            margin-right: 10px;
        }
        .sidebar ul li a.active {
            background-color: #007bff;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
        }
        .content {
            flex: 1;
            padding: 20px;
        }
/* Mengimpor font dari Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600&display=swap');

/* Styling untuk header */
.header {
    background: linear-gradient(45deg, #FF6F61, #FFB6C1, #FDCB82, #F49AC2, #FF8C94); /* Efek gradient bergerak */
    background-size: 400% 400%; /* Efek gradient yang lebih besar */
    animation: gradientAnimation 10s ease infinite; /* Animasi gradien bergerak */
    padding: 15px 20px;
    text-align: center;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    border-radius: 12px;
    margin-bottom: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    position: relative;
}

/* Animasi untuk latar belakang gradient */
@keyframes gradientAnimation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Styling untuk h1 di dalam header */
.header h1 {
    font-family: 'Poppins', sans-serif;
    font-size: 35px;
    font-weight: 600;
    color: white;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin: 0;
    text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
    animation: textAnimation 2s ease forwards; /* Animasi teks muncul */
}

/* Animasi teks */
@keyframes textAnimation {
    0% {
        transform: translateY(-50px);
        opacity: 0;
    }
    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Efek hover pada ikon dan teks */
.header:hover .header-icon {
    transform: rotate(360deg); /* Memutar ikon */
}

.header:hover h1 {
    color: #FFFBF0; /* Warna teks berubah saat hover */
    transform: scale(1.05); /* Teks sedikit membesar */
    transition: transform 0.3s ease, color 0.3s ease; /* Transisi mulus */
}

/* Styling responsif untuk header */
@media (max-width: 768px) {
    .header h1 {
        font-size: 36px; /* Ukuran font lebih kecil di layar kecil */
    }


}
        .main-content {
            background-color: #e0f0ff;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
        }
        .main-content h2 {
            font-size: 20px;
            margin-bottom: 20px;
        }
        .steps {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        .steps .step {
            flex: 1;
            text-align: center;
        }
        .steps .step i {
            font-size: 50px;
            margin-bottom: 10px;
        }
        .steps .step.active i {
            background-color: #4da6ff;
            border-radius: 50%;
            padding: 10px;
        }
        .steps .step span {
            display: block;
            font-size: 16px;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .buttons button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .buttons .back {
            background-color: #ff4d4d;
            color: white;
        }
        .buttons .next {
            background-color: #33cc33;
            color: white;
        }
        /* Additional form styles */
        .form-container {
            background-color: #e0f0ff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 10 0 10px rgba(0,0,0,0.1);
        }
        .form-container h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-steps {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
        }
        .form-steps div {
            text-align: center;
        }
        .form-steps div i {
            font-size: 24px;
            display: block;
            margin-bottom: 5px;
        }
        .form-steps div.active i {
            color: #007bff;
        }
        .form-steps div.active {
            font-weight: bold;
        }
        .form-group {
            display: flex;
            align-items: left;
            margin-bottom: 21px;
        }
        .form-group label {
            width: 240px;            /* Menentukan lebar label agar seragam */
            margin-right: 10px;      /* Memberi jarak antara label dan input */
            font-weight: bold;       /* Menebalkan teks label */
            text-align: left;        /* Agar teks label rata kiri */
        }
        .form-group input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .form-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px; /* Ensures buttons are pushed to the bottom of the form */
        }
        .form-buttons button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            width: 150px; /* Ensures buttons are the same size */
        }
        .form-buttons .btn-back {
            background-color: #ff4d4d;
            color: #fff;
        }
        .form-buttons .btn-next {
            background-color: #28a745;
            color: #fff;
        }
        @media (max-width: 768px) {
            .sidebar {
                width: 200px;
            }
            .form-container {
                padding: 10px;
            }
            .form-buttons button {
                font-size: 14px;
            }
        }
    </style>
</head>




<body>
            <!-- Header -->
            <div class="header">
                <h1>Sistem Informasi Rukun Warga</h1>
            </div>

    <div class="container">
        <div class="sidebar">
            <div class="admin-section">
                <img alt="Admin Icon" height="50" src="https://storage.googleapis.com/a1aa/image/QbRvk1hbRfUzEq52sRqyXRWMFge5QZsdCYhtByAPYNkRJx2TA.jpg" width="50"/>
                <h2>Admin</h2>
            </div>
            <h3>MAIN</h3>
            <ul>
                <li>
                    <a href="#">
                        <i class="fas fa-home"></i>
                        Dashboard
                    </a>
                </li>
                <li>
                    <a class="active" href="#">
                        <i class="fas fa-user"></i>
                        Data Penduduk
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-file-alt"></i>
                        Surat Surat
                    </a>
                </li>
                <li>
                    <a href="#">
                        <i class="fas fa-comment"></i>
                        Saran
                    </a>
                </li>
            </ul>
            <h3>KELUAR</h3>
            <ul>
                <li>
                    <a href="#">
                        <i class="fas fa-sign-out-alt"></i>
                        Keluar
                    </a>
                </li>
            </ul>
        </div>

        <div class="content">
            <div class="main-content">
                <h2>Form Data Penduduk</h2>
                <div class="steps">
                    <div class="step"><i class="fas fa-user"></i><span>Biodata</span></div>
                    <div class="step active"><i class="fas fa-home"></i><span>Alamat</span></div>
                    <div class="step"><i class="fas fa-file-alt"></i><span>Dokumen Pendukung</span></div>
                </div>

                <!-- Form Input -->
                <div class="form-alamat">
                    <div class="form-group">
                        <label for="alamat-lengkap">Alamat Asal</label>
                        <input id="alamat-lengkap" placeholder="Masukkan Alamat Lengkap" type="text"/>
                    </div>

                    <!-- Dropdown Provinsi -->
                    <div class="form-group">
                        <label for="provinsi">Provinsi</label>
                        <select id="provinsi" onchange="loadRegencies()">
                            <option value="">Pilih Provinsi</option>
                        </select>
                    </div>

                    <!-- Dropdown Kabupaten -->
                    <div class="form-group">
                        <label for="kabupaten-kota">Kabupaten/Kota</label>
                        <select id="kabupaten-kota" onchange="loadDistricts()">
                            <option value="">Pilih Kabupaten/Kota</option>
                        </select>
                    </div>

                    <!-- Dropdown Kecamatan -->
                    <div class="form-group">
                        <label for="kecamatan">Kecamatan</label>
                        <select id="kecamatan" onchange="loadVillages()">
                            <option value="">Pilih Kecamatan</option>
                        </select>
                    </div>

                    <!-- Dropdown Desa -->
                    <div class="form-group">
                        <label for="desa-kelurahan">Desa/Kelurahan</label>
                        <select id="desa-kelurahan">
                            <option value="">Pilih Desa/Kelurahan</option>
                        </select>
                    </div>

                    <div class="form-buttons">
                        <button type="button" class="btn-back" onclick="window.location.href='biodata1.html'">Kembali</button>
                        <button class="btn-next" id="next-button" onclick="goNext(event)" disabled>Selanjutnya</button>
                    </div>
                    <!-- Peringatan, akan ditampilkan jika data belum lengkap -->
<div id="warning-message" style="display:none; color: red; text-align: center; margin-top: 20px;">
    <p>Harap lengkapi semua data dengan benar!</p>
</div>

                </div>
            </div>
        </div>
    </div>

    <script>
        window.onload = function() {
    // Ambil data dari sessionStorage
    var biodata = JSON.parse(sessionStorage.getItem('biodata'));

    if (biodata) {
        // Isi field form dengan data yang ada di sessionStorage
        document.getElementById('nik').value = biodata.nik || '';
        document.getElementById('no_kk').value = biodata.no_kk || '';
        document.getElementById('nama_lengkap').value = biodata.nama_lengkap || '';
        document.getElementById('tempat_lahir').value = biodata.tempat_lahir || '';
        document.getElementById('tanggal_lahir').value = biodata.tanggal_lahir || '';
        if (biodata.jenis_kelamin) {
            document.querySelector(`input[name="jenis_kelamin"][value="${biodata.jenis_kelamin}"]`).checked = true;
        }
        document.getElementById('no_hp').value = biodata.no_hp || '';
        document.getElementById('agama').value = biodata.agama || '';
        document.getElementById('status_perkawinan').value = biodata.status_perkawinan || '';
        document.getElementById('status_keluarga').value = biodata.status_keluarga || '';
        document.getElementById('pendidikan').value = biodata.pendidikan || '';
        document.getElementById('pekerjaan').value = biodata.pekerjaan || '';
    } else {
        console.error('Data tidak ditemukan di sessionStorage');
    }
};

        // Memuat data provinsi
        function loadProvinces() {
            fetch('https://api.allorigins.win/raw?url=https://emsifa.github.io/api-wilayah-indonesia/api/provinces.json')
                .then(response => response.json())
                .then(data => {
                    const provinceSelect = document.getElementById('provinsi');
                    data.forEach(province => {
                        const option = document.createElement('option');
                        option.value = province.id;
                        option.text = province.name;
                        provinceSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Terjadi masalah dengan pengambilan data:', error));
        }

        // Memanggil loadProvinces saat halaman dimuat
        window.onload = loadProvinces;

        // Memuat daftar Kabupaten berdasarkan Provinsi yang Dipilih
        function loadRegencies() {
            const provinceId = document.getElementById('provinsi').value;
            if (!provinceId) return;

            // Memanggil API untuk daftar kabupaten
            fetch(`https://api.allorigins.win/raw?url=https://emsifa.github.io/api-wilayah-indonesia/api/regencies/${provinceId}.json`)
                .then(response => response.json())
                .then(data => {
                    const regencySelect = document.getElementById('kabupaten-kota');
                    regencySelect.innerHTML = '<option value="">Pilih Kabupaten/Kota</option>'; // Reset
                    data.forEach(regency => {
                        const option = document.createElement('option');
                        option.value = regency.id;
                        option.text = regency.name;
                        regencySelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Error loading regencies:', error));
        }

        // Memuat daftar Kecamatan berdasarkan Kabupaten yang Dipilih
        function loadDistricts() {
            const regencyId = document.getElementById('kabupaten-kota').value;
            if (!regencyId) return;

            fetch(`https://api.allorigins.win/raw?url=https://emsifa.github.io/api-wilayah-indonesia/api/districts/${regencyId}.json`)
                .then(response => response.json())
                .then(data => {
                    const districtSelect = document.getElementById('kecamatan');
                    districtSelect.innerHTML = '<option value="">Pilih Kecamatan</option>';
                    data.forEach(district => {
                        const option = document.createElement('option');
                        option.value = district.id;
                        option.text = district.name;
                        districtSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Error loading districts:', error));
        }

        // Memuat daftar Desa/Kelurahan berdasarkan Kecamatan yang Dipilih
        function loadVillages() {
            const districtId = document.getElementById('kecamatan').value;
            if (!districtId) return;

            fetch(`https://api.allorigins.win/raw?url=https://emsifa.github.io/api-wilayah-indonesia/api/villages/${districtId}.json`)
                .then(response => response.json())
                .then(data => {
                    const villageSelect = document.getElementById('desa-kelurahan');
                    villageSelect.innerHTML = '<option value="">Pilih Desa/Kelurahan</option>';
                    data.forEach(village => {
                        const option = document.createElement('option');
                        option.value = village.id;
                        option.text = village.name;
                        villageSelect.appendChild(option);
                    });
                })
                .catch(error => console.error('Error loading villages:', error));
        }


// // Fungsi untuk menyimpan data ke sessionStorage
// document.getElementById('selanjutnya-alamat').addEventListener('click', function() {
//       // Simpan input alamat ke sessionStorage
//       const alamat = document.getElementById('alamat-lengkap').value;
//     //   const kota = document.getElementById('kota').value;
  
//       sessionStorage.setItem('alamat-lengkap', alamat);
//     //   sessionStorage.setItem('kota', kota);
  
//       // Pindah ke halaman berikutnya
//       window.location.href = 'dokumen_pendukung.html'; // Ganti dengan path halaman berikutnya
//     });


function saveToSessionStorage() {
    // Ambil data dari inputan form
    const alamatLengkap = document.getElementById('alamat-lengkap').value;
    const provinsi = document.getElementById('provinsi').value;
    const kabupaten = document.getElementById('kabupaten-kota').value;
    const kecamatan = document.getElementById('kecamatan').value;
    const desa = document.getElementById('desa-kelurahan').value;

    // Simpan ke sessionStorage
    sessionStorage.setItem('alamat_lengkap', alamatLengkap);
    sessionStorage.setItem('provinsi', provinsi);
    sessionStorage.setItem('kabupaten', kabupaten);
    sessionStorage.setItem('kecamatan', kecamatan);
    sessionStorage.setItem('desa', desa);
}

// Fungsi untuk melanjutkan ke halaman berikutnya
function goNext(event) {
    event.preventDefault();

    // Jika tombol "Selanjutnya" dinonaktifkan, beri peringatan
    if (document.getElementById('next-button').disabled) {
        alert("Harap lengkapi semua data dengan benar!");
        return; // Hentikan proses pengalihan
    }

    // Simpan data ke sessionStorage sebelum melanjutkan
    saveToSessionStorage();

    // Lanjutkan ke halaman berikutnya
    window.location.href = "dokumenpendukungmm.html"; // Ganti dengan URL tujuan
}

// Fungsi untuk memvalidasi input
function validateForm() {
    const alamatLengkap = document.getElementById('alamat-lengkap').value;
    const provinsi = document.getElementById('provinsi').value;
    const kabupaten = document.getElementById('kabupaten-kota').value;
    const kecamatan = document.getElementById('kecamatan').value;
    const desa = document.getElementById('desa-kelurahan').value;

    const nextButton = document.getElementById('next-button');
    const warningMessage = document.getElementById('warning-message');

    // Cek apakah semua field sudah terisi
    if (alamatLengkap && provinsi && kabupaten && kecamatan && desa) {
        nextButton.disabled = false; // Aktifkan tombol jika semua field terisi
        warningMessage.style.display = "none"; // Sembunyikan peringatan jika validasi berhasil
    } else {
        nextButton.disabled = true; // Nonaktifkan tombol jika ada field yang kosong
        warningMessage.style.display = "block"; // Tampilkan peringatan
    }
}

// Panggil validasi setiap kali ada perubahan pada field
document.getElementById('alamat-lengkap').addEventListener('input', validateForm);
document.getElementById('provinsi').addEventListener('change', validateForm);
document.getElementById('kabupaten-kota').addEventListener('change', validateForm);
document.getElementById('kecamatan').addEventListener('change', validateForm);
document.getElementById('desa-kelurahan').addEventListener('change', validateForm);

// Event listener untuk tombol "Selanjutnya"
document.getElementById('next-button').addEventListener('click', goNext);



    </script>

</body>
</html>
